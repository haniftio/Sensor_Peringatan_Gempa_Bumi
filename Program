#include <Arduino.h>

// Daftar frekuensi not musik dalam Hz
#define NOTE_C4  261
#define NOTE_D4  294
#define NOTE_E4  329
#define NOTE_F4  349
#define NOTE_G4  392
#define NOTE_A4  440
#define NOTE_B4  493
#define NOTE_C5  523

// Pin untuk output suara dan push button
const int speakerPin = 9;
const int buttonPin = 10; // Menggunakan pin 10 sebagai input untuk push button

// Melodi sederhana (Twinkle Twinkle Little Star)
int melody[] = {NOTE_C4, NOTE_C4, NOTE_G4, NOTE_G4, NOTE_A4, NOTE_A4, NOTE_G4};
int noteDurations[] = {500, 500, 500, 500, 500, 500, 1000};

void setup() {
  // Set speakerPin sebagai output
  pinMode(speakerPin, OUTPUT);
  // Set buttonPin sebagai input dengan pull-up internal
  pinMode(buttonPin, INPUT_PULLUP);
}

void loop() {
  // Cek apakah button ditekan
  if (digitalRead(buttonPin) == 1) { // Tombol ditekan jika pin bernilai LOW
    // Loop melalui setiap not
    for (int thisNote = 0; thisNote < 7; thisNote++) {
      // Menghitung durasi not
      int noteDuration = noteDurations[thisNote];
      tone(speakerPin, melody[thisNote], noteDuration);
      
      // Untuk mengisi jeda antara not
      int pauseBetweenNotes = noteDuration * 1.30;
      delay(pauseBetweenNotes);
      
      // Hentikan nada untuk membuat jeda antara not
      noTone(speakerPin);
    }
    // Jeda sebelum mengulang melodi
    delay(1000);
  }
}
